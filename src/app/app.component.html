<div class="dashboard-container">
  <header class="header">
    <h1>{{ title }}</h1>
    <p>Dashboard de APIs Brasileiras para demonstração técnica</p>
  </header>

  <main class="content">
    <div *ngIf="isLoading" class="loading-section">
      <p>Testando conexão com APIs brasileiras...</p>
    </div>

    <div *ngIf="error" class="error-section">
      <h3>❌ Erro de Conexão</h3>
      <p>{{ error }}</p>
      <button mat-raised-button color="primary" (click)="testAPIs()">
        Tentar Novamente
      </button>
    </div>

    <div *ngIf="!isLoading && !error" class="success-section">
      <div class="api-grid">
        <!-- CEP API Test -->
        <mat-card class="api-card" *ngIf="cepData">
          <mat-card-header>
            <mat-card-title>📍 CEP API - Funcionando!</mat-card-title>
            <mat-card-subtitle>Testado com CEP: 01001-000</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p><strong>Endereço:</strong> {{ cepData.street }}</p>
            <p><strong>Bairro:</strong> {{ cepData.district }}</p>
            <p><strong>Cidade:</strong> {{ cepData.city }} - {{ cepData.state }}</p>
            <p><strong>CEP:</strong> {{ cepData.cep }}</p>
          </mat-card-content>
        </mat-card>

        <!-- Banks API Test -->
        <mat-card class="api-card" *ngIf="banks.length > 0">
          <mat-card-header>
            <mat-card-title>🏦 Banks API - Funcionando!</mat-card-title>
            <mat-card-subtitle>Carregados {{ banks.length }} bancos (preview)</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div *ngFor="let bank of banks" class="bank-item">
              <strong>{{ bank.name }}</strong> - Código: {{ bank.code }}
            </div>
          </mat-card-content>
        </mat-card>

        <!-- API Status -->
        <mat-card class="api-card">
          <mat-card-header>
            <mat-card-title>✅ Status das APIs</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>✅ CEP v2 - Conectado</p>
            <p>✅ Banks v1 - Conectado</p>
            <p>⏳ CNPJ v1 - Pronto para teste</p>
            <p>⏳ Taxas v1 - Pronto para teste</p>
          </mat-card-content>
        </mat-card>

        <!-- Next Steps -->
        <mat-card class="api-card">
          <mat-card-header>
            <mat-card-title>🚀 Próximos Passos</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>✅ Estrutura base criada</p>
            <p>✅ 4 serviços APIs implementados</p>
            <p>✅ TypeScript interfaces definidas</p>
            <p>✅ Error handling configurado</p>
            <p>⏳ Criar componentes das features</p>
            <p>⏳ Implementar UI com Material Design</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-raised-button color="accent" (click)="testAPIs()">
              Testar APIs Novamente
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </main>
</div>

<router-outlet />