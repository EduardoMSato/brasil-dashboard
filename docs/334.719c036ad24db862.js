"use strict";(self.webpackChunkbrasil_dashboard=self.webpackChunkbrasil_dashboard||[]).push([[334],{3334:(x,g,r)=>{r.r(g),r.d(g,{CepSearchComponent:()=>I});var _=r(177),i=r(9417),s=r(5596),p=r(9631),h=r(8834),C=r(9183),u=r(5416),P=r(9213),f=r(1997),t=r(4438),O=r(7316),d=r(2102);function M(e,c){1&e&&(t.j41(0,"mat-error"),t.EFF(1," CEP \xe9 obrigat\xf3rio "),t.k0s())}function E(e,c){1&e&&(t.j41(0,"mat-error"),t.EFF(1," CEP deve ter o formato 00000-000 "),t.k0s())}function F(e,c){1&e&&(t.j41(0,"mat-icon"),t.EFF(1,"refresh"),t.k0s())}function y(e,c){1&e&&(t.j41(0,"mat-icon"),t.EFF(1,"search"),t.k0s())}function D(e,c){1&e&&(t.j41(0,"div",14),t.nrm(1,"mat-progress-spinner",15),t.j41(2,"p"),t.EFF(3,"Consultando CEP na Brasil API..."),t.k0s()())}function v(e,c){if(1&e&&(t.j41(0,"div",19)(1,"mat-icon"),t.EFF(2,"my_location"),t.k0s(),t.j41(3,"div")(4,"strong"),t.EFF(5,"Coordenadas:"),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()()()),2&e){const n=t.XpG(2);t.R7$(7),t.Lme("",null==n.cepData.location||null==n.cepData.location.coordinates?null:n.cepData.location.coordinates.latitude,", ",null==n.cepData.location||null==n.cepData.location.coordinates?null:n.cepData.location.coordinates.longitude,"")}}function k(e,c){if(1&e&&(t.j41(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",17),t.EFF(4,"check_circle"),t.k0s(),t.EFF(5," Endere\xe7o Encontrado "),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",18)(10,"div",19)(11,"mat-icon"),t.EFF(12,"home"),t.k0s(),t.j41(13,"div")(14,"strong"),t.EFF(15,"Logradouro:"),t.k0s(),t.j41(16,"span"),t.EFF(17),t.k0s()()(),t.j41(18,"div",19)(19,"mat-icon"),t.EFF(20,"location_city"),t.k0s(),t.j41(21,"div")(22,"strong"),t.EFF(23,"Bairro:"),t.k0s(),t.j41(24,"span"),t.EFF(25),t.k0s()()(),t.j41(26,"div",19)(27,"mat-icon"),t.EFF(28,"place"),t.k0s(),t.j41(29,"div")(30,"strong"),t.EFF(31,"Cidade:"),t.k0s(),t.j41(32,"span"),t.EFF(33),t.k0s()()(),t.DNE(34,v,8,2,"div",20),t.k0s()()()),2&e){const n=t.XpG();t.R7$(7),t.SpI("CEP: ",n.formatCep(n.cepData.cep),""),t.R7$(10),t.JRh(n.cepData.street||"N\xe3o informado"),t.R7$(8),t.JRh(n.cepData.neighborhood||"N\xe3o informado"),t.R7$(8),t.Lme("",n.cepData.city," - ",n.cepData.state,""),t.R7$(),t.Y8G("ngIf",(null==n.cepData.location||null==n.cepData.location.coordinates?null:n.cepData.location.coordinates.latitude)&&(null==n.cepData.location||null==n.cepData.location.coordinates?null:n.cepData.location.coordinates.longitude))}}function b(e,c){if(1&e){const n=t.RV6();t.j41(0,"div",25),t.bIt("click",function(){const a=t.eBV(n).$implicit,l=t.XpG(2);return t.Njj(l.searchFromHistory(a.cep))}),t.j41(1,"div",26)(2,"strong"),t.EFF(3),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()(),t.j41(6,"mat-icon",27),t.EFF(7,"search"),t.k0s()()}if(2&e){const n=c.$implicit,o=t.XpG(2);t.R7$(3),t.JRh(o.formatCep(n.cep)),t.R7$(2),t.E5c("",n.street,", ",n.city," - ",n.state,"")}}function j(e,c){if(1&e){const n=t.RV6();t.j41(0,"mat-card",21)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),t.EFF(4,"history"),t.k0s(),t.EFF(5," Hist\xf3rico de Buscas "),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",22),t.DNE(10,b,8,4,"div",23),t.k0s()(),t.j41(11,"mat-card-actions")(12,"button",24),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.clearHistory())}),t.j41(13,"mat-icon"),t.EFF(14,"delete"),t.k0s(),t.EFF(15," Limpar Hist\xf3rico "),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(7),t.SpI("\xdaltimas ",n.searchHistory.length," consultas realizadas"),t.R7$(3),t.Y8G("ngForOf",n.searchHistory)}}let I=(()=>{class e{constructor(n,o,a){this.fb=n,this.cepService=o,this.snackBar=a,this.cepData=null,this.isLoading=!1,this.error="",this.searchHistory=[],this.cepForm=this.fb.group({cep:["",[i.k0.required,i.k0.pattern(/^\d{5}-?\d{3}$/)]]})}ngOnInit(){this.loadSearchHistory()}onSearch(){if(this.cepForm.valid){const n=this.cepForm.get("cep")?.value;this.searchCep(n)}else this.snackBar.open("Por favor, digite um CEP v\xe1lido (formato: 00000-000)","Fechar",{duration:3e3})}searchCep(n){this.isLoading=!0,this.error="",this.cepData=null,this.cepService.getCepData(n).subscribe({next:o=>{this.cepData=o,this.isLoading=!1,this.addToHistory(o),this.snackBar.open("CEP encontrado com sucesso!","Fechar",{duration:2e3})},error:o=>{this.error=o.message,this.isLoading=!1,this.snackBar.open(o.message,"Fechar",{duration:4e3})}})}formatCep(n){return n.replace(/\D/g,"").replace(/^(\d{5})(\d{3})$/,"$1-$2")}onCepInput(n){let o=n.target.value.replace(/\D/g,"");o.length>5&&(o=o.replace(/^(\d{5})(\d{0,3})$/,"$1-$2")),this.cepForm.get("cep")?.setValue(o)}clearForm(){this.cepForm.reset(),this.cepData=null,this.error=""}searchFromHistory(n){this.cepForm.get("cep")?.setValue(this.formatCep(n)),this.searchCep(n)}addToHistory(n){this.searchHistory=this.searchHistory.filter(o=>o.cep!==n.cep),this.searchHistory.unshift(n),this.searchHistory.length>5&&(this.searchHistory=this.searchHistory.slice(0,5)),localStorage.setItem("cep-history",JSON.stringify(this.searchHistory))}loadSearchHistory(){const n=localStorage.getItem("cep-history");n&&(this.searchHistory=JSON.parse(n))}clearHistory(){this.searchHistory=[],localStorage.removeItem("cep-history"),this.snackBar.open("Hist\xf3rico limpo com sucesso!","Fechar",{duration:2e3})}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(i.ok),t.rXU(O.I),t.rXU(u.UG))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-cep-search"]],standalone:!0,features:[t.aNF],decls:34,vars:11,consts:[[1,"cep-search-container"],[1,"header-section"],[1,"search-card"],[1,"search-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"cep-input"],["matInput","","formControlName","cep","placeholder","00000-000","maxlength","9",3,"input"],["matSuffix",""],[4,"ngIf"],[1,"button-group"],["mat-raised-button","","color","primary","type","submit",1,"search-button",3,"disabled"],["mat-button","","type","button",3,"click","disabled"],["class","loading-section",4,"ngIf"],["class","result-card",4,"ngIf"],["class","history-card",4,"ngIf"],[1,"loading-section"],["mode","indeterminate","diameter","50"],[1,"result-card"],[1,"success-icon"],[1,"address-details"],[1,"detail-item"],["class","detail-item",4,"ngIf"],[1,"history-card"],[1,"history-list"],["class","history-item",3,"click",4,"ngFor","ngForOf"],["mat-button","",3,"click"],[1,"history-item",3,"click"],[1,"history-info"],[1,"history-action"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"\u{1f4cd} Consulta CEP"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Busque endere\xe7os completos atrav\xe9s do CEP usando a Brasil API"),t.k0s()(),t.j41(6,"mat-card",2)(7,"mat-card-header")(8,"mat-card-title"),t.EFF(9,"Buscar CEP"),t.k0s(),t.j41(10,"mat-card-subtitle"),t.EFF(11,"Digite o CEP no formato 00000-000"),t.k0s()(),t.j41(12,"mat-card-content")(13,"form",3),t.bIt("ngSubmit",function(){return a.onSearch()}),t.j41(14,"mat-form-field",4)(15,"mat-label"),t.EFF(16,"CEP"),t.k0s(),t.j41(17,"input",5),t.bIt("input",function(m){return a.onCepInput(m)}),t.k0s(),t.j41(18,"mat-icon",6),t.EFF(19,"location_on"),t.k0s(),t.DNE(20,M,2,0,"mat-error",7)(21,E,2,0,"mat-error",7),t.k0s(),t.j41(22,"div",8)(23,"button",9),t.DNE(24,F,2,0,"mat-icon",7)(25,y,2,0,"mat-icon",7),t.EFF(26),t.k0s(),t.j41(27,"button",10),t.bIt("click",function(){return a.clearForm()}),t.j41(28,"mat-icon"),t.EFF(29,"clear"),t.k0s(),t.EFF(30," Limpar "),t.k0s()()()()(),t.DNE(31,D,4,0,"div",11)(32,k,35,6,"mat-card",12)(33,j,16,2,"mat-card",13),t.k0s()),2&o){let l,m;t.R7$(13),t.Y8G("formGroup",a.cepForm),t.R7$(7),t.Y8G("ngIf",null==(l=a.cepForm.get("cep"))?null:l.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(m=a.cepForm.get("cep"))?null:m.hasError("pattern")),t.R7$(2),t.Y8G("disabled",a.isLoading||a.cepForm.invalid),t.R7$(),t.Y8G("ngIf",a.isLoading),t.R7$(),t.Y8G("ngIf",!a.isLoading),t.R7$(),t.SpI(" ",a.isLoading?"Buscando...":"Buscar"," "),t.R7$(),t.Y8G("disabled",a.isLoading),t.R7$(4),t.Y8G("ngIf",a.isLoading),t.R7$(),t.Y8G("ngIf",a.cepData&&!a.isLoading),t.R7$(),t.Y8G("ngIf",a.searchHistory.length>0)}},dependencies:[_.MD,_.Sq,_.bT,i.X1,i.qT,i.me,i.BC,i.cb,i.tU,i.j4,i.JD,s.Hu,s.RN,s.YY,s.m2,s.MM,s.Lc,s.dh,p.fS,p.fg,d.rl,d.nJ,d.TL,d.yw,h.Hl,h.$z,C.D6,C.LG,u._T,P.m_,P.An,f.w],styles:[".cep-search-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#003d7a;font-size:2.2rem;margin:0 0 .5rem;font-weight:600}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem;margin:0}.search-card[_ngcontent-%COMP%], .result-card[_ngcontent-%COMP%], .history-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 2px 8px #0000001a;border-radius:8px}.search-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .result-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .history-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#003d7a;font-size:1.3rem}.search-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%], .result-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%], .history-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#666;margin-top:.25rem}.search-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.search-form[_ngcontent-%COMP%]   .cep-input[_ngcontent-%COMP%]{width:100%}.search-form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.search-form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 480px){.search-form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{flex-direction:column}.search-form[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.loading-section[_ngcontent-%COMP%]{text-align:center;padding:2rem}.loading-section[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin:0 auto 1rem}.loading-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem;margin:0}.result-card[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{color:#27ae60}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#003d7a;margin-top:2px}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#003d7a;font-size:.9rem}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;transition:all .2s ease}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;border-color:#003d7a}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#003d7a;font-size:1rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666;font-size:.875rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-action[_ngcontent-%COMP%]{color:#003d7a;opacity:.6;transition:opacity .2s ease}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]:hover   .history-action[_ngcontent-%COMP%]{opacity:1}  .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{color:#e74c3c}@media (max-width: 768px){.cep-search-container[_ngcontent-%COMP%]{padding:15px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.result-card[_ngcontent-%COMP%]   .address-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{gap:.75rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.history-card[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-action[_ngcontent-%COMP%]{align-self:flex-end}}"]})}}return e})()}}]);