import{a as u}from"./chunk-SSB3OILK.js";import{$ as m,A as o,F as s,V as n,ea as c,p as i}from"./chunk-IM6AJEZM.js";var g=(()=>{class r{constructor(t){this.http=t,this.baseUrl="https://brasilapi.com.br/api/taxas/v1"}getTaxas(){return this.http.get(this.baseUrl).pipe(s(this.handleError))}getTaxasWithAutoRefresh(t=30){return o(0,t*60*1e3).pipe(n(()=>this.getTaxas()))}getTaxaByName(t,e){return t.find(a=>a.nome.toLowerCase().includes(e.toLowerCase()))}getMainTaxas(t){let e=["selic","cdi","ipca","dolar","euro"];return t.filter(a=>e.some(p=>a.nome.toLowerCase().includes(p)))}formatTaxaValue(t,e="percentage"){return e==="currency"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t):new Intl.NumberFormat("pt-BR",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:4}).format(t/100)}handleError(t){let e="Erro inesperado ao carregar taxas";return t.status===0?e="Erro de conex\xE3o. Verifique sua internet.":t.status===429?e="Muitas consultas. Aguarde um momento e tente novamente.":t.status>=500&&(e="Erro do servidor. Tente novamente mais tarde."),i(()=>new Error(e))}static{this.\u0275fac=function(e){return new(e||r)(c(u))}}static{this.\u0275prov=m({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{g as a};
