import{a as d}from"./chunk-SSB3OILK.js";import{$ as u,F as l,ea as m,p as c}from"./chunk-IM6AJEZM.js";var C=(()=>{class a{constructor(t){this.http=t,this.baseUrl="https://brasilapi.com.br/api/banks/v1"}getBanks(){return this.http.get(this.baseUrl).pipe(l(this.handleError))}filterBanks(t,e){let n=t;if(e.searchTerm){let o=e.searchTerm.toLowerCase();n=n.filter(r=>r.name?.toLowerCase().includes(o)||r.fullName?.toLowerCase().includes(o)||r.code!=null&&r.code.toString().includes(o))}return n.sort((o,r)=>{let s,i;switch(e.sortBy){case"name":s=o.name?.toLowerCase()||"",i=r.name?.toLowerCase()||"";break;case"fullName":s=o.fullName?.toLowerCase()||"",i=r.fullName?.toLowerCase()||"";break;case"code":s=o.code??0,i=r.code??0;break;default:return 0}return s<i?e.sortOrder==="asc"?-1:1:s>i?e.sortOrder==="asc"?1:-1:0}),n}handleError(t){let e="Erro inesperado ao carregar bancos";return t.status===0?e="Erro de conex\xE3o. Verifique sua internet.":t.status>=500&&(e="Erro do servidor. Tente novamente mais tarde."),c(()=>new Error(e))}static{this.\u0275fac=function(e){return new(e||a)(m(d))}}static{this.\u0275prov=u({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{C as a};
